<!DOCTYPE OMNotebook>
<Notebook>
 <GroupCell closed="false" >
  <GroupCell closed="false" >
   <TextCell style="Title" >
    <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Arial; font-size:38pt; font-weight:600; color:#000000;">Game of Life&lt;/p>&lt;/body>&lt;/html></Text>
   </TextCell>
   <GroupCell closed="false" >
    <TextCell style="Section" >
     <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times; font-size:18pt; font-weight:600; color:#000000;">Introduction&lt;/p>&lt;/body>&lt;/html></Text>
    </TextCell>
    <TextCell style="Text" >
     <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times New Roman; font-size:12pt; color:#000000;">&lt;span style=" font-weight:600;">Rules for the Game of Life:&lt;/span>&lt;br />&lt;br />Life is played on a grid of square cells--like a chess board but extending infinitely in every direction. A cell can be live or dead. A live cell is shown by putting a marker on its square. A dead cell is shown by leaving the square empty. Each cell in the grid has a neighborhood consisting of the eight cells in every direction including diagonals. To apply one step of the rules, we count the number of live neighbors for each cell. What happens next depends on this number.&lt;br />To apply one step of the rules, we count the number of live neighbors for each cell. What happens next depends on this number.&lt;br />- A dead cell with exactly three live neighbors becomes a live cell (birth). &lt;br />&lt;br />&lt;br />&lt;span style=" color:#000000;">&lt;img src="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/102.png" width="48" height="48" />&lt;/span>&lt;span style=" color:#000000;">&lt;img src="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/103.png" width="48" height="48" />&lt;/span>&lt;br />A live cell with two or three live neighbors stays alive (survival). &lt;br />&lt;br />&lt;br />&lt;span style=" color:#000000;">&lt;img src="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/104.png" width="48" height="48" />&lt;/span>&lt;span style=" color:#000000;">&lt;img src="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/105.png" width="48" height="48" />&lt;/span>&lt;span style=" color:#000000;">&lt;img src="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/106.png" width="48" height="48" />&lt;/span>&lt;br />In all other cases, a cell dies or remains dead (overcrowding or loneliness). &lt;br />&lt;br />&lt;br />&lt;span style=" color:#000000;">&lt;img src="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/107.png" width="48" height="48" />&lt;/span>&lt;span style=" color:#000000;">&lt;img src="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/108.png" width="48" height="48" />&lt;/span>&lt;span style=" color:#000000;">&lt;img src="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/109.png" width="48" height="48" />&lt;/span>&lt;span style=" color:#000000;">&lt;img src="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/110.png" width="48" height="48" />&lt;/span>&lt;br />&lt;span style=" font-weight:600;">Note:&lt;/span> The number of live neighbors is always based on the cells &lt;span style=" font-weight:600; font-style:italic; color:#0000fe;">before&lt;/span> the rule was applied. In other words, we must first find all of the cells that change before changing any of them. Sounds like a job for a computer!&lt;span style=" font-size:14pt;"> &lt;/span>&lt;br />&lt;/p>&lt;/body>&lt;/html></Text>
     <Image name="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/102.png" >AAAAAYlQTkcNChoKAAAADUlIRFIAAAAwAAAAMAgGAAAAVwL5hwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAQ5JREFUaIHtl9EOhSAIhrHa6v2ftrZz5rlrySyV8ACO786i8f8ySUKMMYJhlrsXIRzJOsa1uxgKAVcAC8doMzJdFyXxtTH/5DTQIkyTiakcopsJgLajWqowRgUsM4YBSm/X8j8YowIAbTuqZfcBUAVqhGkSD5C5C50vrF7mrGH+EHebB45vSNbr3Fbo2vzs8wAWjikZac3POg+UxJdiKPnZ5oEa8U+x1Py3Z+At27In6/2zdcnDMg/gHcXic8+u37zJb76NugFpWOYB3NtzBxY/u37zJn+3LtSr62DY5oGWq0IulpqfdR6oMfEUQ8nfbR4Qu8xZY4w2ahk3II0bkMYNSOMGpHED0rgBadyAND8Eu5NCaCFoGgAAAABJRU5ErkJggg==</Image>
     <Image name="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/103.png" >AAAAAYlQTkcNChoKAAAADUlIRFIAAAAwAAAAMAgGAAAAVwL5hwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAQhJREFUaIHtmdEKwzAIRU1baP//a1vYyN7KIi1NsuvU4HmzCfSqxERMOedMjlnuFlI6CjvnVVxMD4lngAvnWHNk+jaexNfu+SenAy3CLDkxPW+xzUTUF1ErWRgjA54Zw4Ge2m7lPhgjA0RtEbUSfSKWgRphlsQTXbyFzgWvjzlvuD/EYv3A8U6Fvc4yiYb3A1w4B+0ItB94El+7pwVYP9AiDOnE7Rn4lW3ZC3t/bSL/gfQDPKJc/NU3VBbcl9FwQBtIP8Br+9WB5d9Q94FYFZKqOhxYP9ASUeRtDO0HaoShnxJi/YDaY84b7stozAe0ifmANu4PccwHtAkHtIn5gDYxH9Am5gPafADCCJ81lSlEfQAAAABJRU5ErkJggg==</Image>
     <Image name="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/104.png" >AAAAAYlQTkcNChoKAAAADUlIRFIAAAAwAAAAMAgGAAAAVwL5hwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAKpJREFUaIHtl8EKgCAQBVcJ+v/P7bSdirJElqBh5c0t1lc7maTF3d0SU+kGviIBGgnQSIBGAjQSoJEAjQRo0gssvUIp2+3afQ3d+K98aU9kbbBl1Mjf+dsnNAqPxhD52itEm6Dy6RdxNYvZH1wzZH6OGcjMHALRn0ybIfNzzIBZ7C28jaXytVeIPJzMP/ZCZyHrZi4b8yzirEiARgI0EqCRAI0EaCRAIwGaHQQcYU/+OQEBAAAAAElFTkSuQmCC</Image>
     <Image name="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/105.png" >AAAAAYlQTkcNChoKAAAADUlIRFIAAAAwAAAAMAgGAAAAVwL5hwAAAAlwSFlzAAALEwAACxMBAJqcGAAAANtJREFUaIHtmcEOhCAMRAeyyf7/5+6pezNKdqMiMJ2m70bk0FKrvLSYmUGY178HpXwOa7P39GB6KG0F2sBbvCVS94uz4K/uWcmWwJ3APCVRz7f4pgJ9J+qlCjEqoEyMBHq+7V7+BzEqANw7US+nDzQVuBKYp+CBH3eh7YHqZU4N+Sae5gOrXsHhPrDaJ4b6AMMnhvkAyyfkm3iIDzB9IkYFlImRwFMfYPpEjAoAz32A5RNDfYDhE9N8gHaZU0O+iXM+wCbnA2zkmzjnA2wyATY5H2CT8wE2OR9g8wWFp5Q1W2f6OwAAAABJRU5ErkJggg==</Image>
     <Image name="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/106.png" >AAAAAYlQTkcNChoKAAAADUlIRFIAAAAwAAAAMAgGAAAAVwL5hwAAAAlwSFlzAAALEwAACxMBAJqcGAAAALxJREFUaIHtl8sKwzAMBO0S6P9/bk/qqYGKEEe20q1g5hbQWl4/iLebmbXCPNQTWAUDajCgBgNqMKAGA2owoAYDasob2O4auPfX17fZ8xZ9z05kvrFnZCSqTz1Co+ajmhl9moErzc9qZ/XlL3GKgcjqHWlW9OyAGgy0Fv9Jec2Knh34EFnFo9pZfeoOXJnEWc2MPv0ttA9c9TH3a8pfYvLAqLGHPEAe+DPIA2owoIY8oIY8EJ0EecDXVc8Db+aRiEKkjuOxAAAAAElFTkSuQmCC</Image>
     <Image name="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/107.png" >AAAAAYlQTkcNChoKAAAADUlIRFIAAAAwAAAAMAgGAAAAVwL5hwAAAAlwSFlzAAALEwAACxMBAJqcGAAAATRJREFUaIHtl8kOwzAIRKGqlPz/19Yn95SIIjveJoVIvFMXrMwYsAnnnDM9mLe1gBrM6ed7zls5zlsGtHCNNvK6U8woLfGlGDcGesSXYt0YmMWFgZHd12tcGFghDFjjwkDtkupZ48LACm4MjGRBxroxQNRnQse4m4UOHjvMjbJcQomZEvPf1mlg7wOJmTaRzKsSQAg/n4MoISlop89l7If28/MGqF7IKSSFSIEatHgi4DEqd75kQv7WytII0HugZuIu8USgHtANWysjLX5mBtLcchOXdhm98weuRokZbjHQamIkEAOylnXD1hobUf9E4AzUTpvWEbsCbJjruY3dXmS9o4T8DzUPLWdACpkZ5lYzAZtGtZCrJj1iEVmIFxprwoA1YcCaMGBNGLAmDFgTBqwJA9Z8ASjGizVn09fnAAAAAElFTkSuQmCC</Image>
     <Image name="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/108.png" >AAAAAYlQTkcNChoKAAAADUlIRFIAAAAwAAAAMAgGAAAAVwL5hwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAUFJREFUaIHtl8ESgyAMRDdMZ/T/v1ZO9FJtTEUaiGZweKe2sHVDBBJKKSV0zCs3QBR331OaVH98l55kBqRQUjJytz5oxKU5HvqQG9Ca8NKHk3ldEABd9Ctc46l/RgZ65hkBaC8ZqfHUPyMDgG4VjuZ66UNuQPNwT/1PLbQN9FrM9UbzJo5EiES36SRm/UAkwsSSeaa3ML49x6If4IZmLKf6BfP2eTJ4e036AW6EG5RYmwcM+wG+8kdB8N9KWdJgehPngrjKPPDZAzX1OPDdD1Kfe42k+ZoaSHJJLXS0ytYrv/KcYs6S0ia2xLwfkBs2t7Et3n/AOAO506Z0xLawu4n/PY1qb+NLL7KcMUlLKcHHrOqh5n6AG6kp5loz0dwPrGZqjMgKtobR0HgzAvBmBODNCMCbEYA3IwBvRgDejAC8eQNRDd8koG0WOwAAAABJRU5ErkJggg==</Image>
     <Image name="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/109.png" >AAAAAYlQTkcNChoKAAAADUlIRFIAAAAwAAAAMAgGAAAAVwL5hwAAAAlwSFlzAAALEwAACxMBAJqcGAAAALNJREFUaIHtl9EKgCAMRTcJ+v/P7Wm9BRpSTuWycc9bLLkezVQ1M5PAFHQHZqEAGgqgoQAaCqChABoKoKEAmvACR6+gelXPZuf2znjytb2RtQ1bdouM5lef0Ffjv+948eSXXmE2aBRvfvhFXER8I7pyFmbyc8xAZHIIeP7tK/eDmfwcMyAyNgo7dmNvfukVVgSN4sl/nYWeQtTDXDTyLOKoUAANBdBQAA0F0FAADQXQUADNDRpFRk/OehVpAAAAAElFTkSuQmCC</Image>
     <Image name="file:///C:/OpenModelica1.4.3/bin/OMNoteboook_tempfiles/110.png" >AAAAAYlQTkcNChoKAAAADUlIRFIAAAAwAAAAMAgGAAAAVwL5hwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAOVJREFUaIHtmc0KAyEMhKMU9v0ft6fsrbAWi5lE8lO/m0SZjcHVIY2ZmRLzmgVaez/GzNf2j0H021iBceHI7kSk+l2yeHUOCqLfZwGtkBRUv/+Yl4JOhO2oZRU0+jUqkJkaCSD/dsv7QKNfowJEsl3YcRuj+n0WsBCSguh/vYU+gayPuWykP8Rh/cAq4fyAlFB+ACGMH0BJf4hD+AENNSqQmRoJePsBDTUqQOTvB1BC+QGEsH5gleMHvJn6AW/SWkpVf8AbVX/Am//uD3hz+gOZOQlYcPoDETDpD3hj2h/wJu1jTsoNB5WUNf6TzWkAAAAASUVORK5CYII=</Image>
    </TextCell>
   </GroupCell>
   <GroupCell closed="false" >
    <TextCell style="Section" >
     <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times; font-size:18pt; font-weight:600; color:#000000;">Game of Life&lt;/p>&lt;/body>&lt;/html></Text>
    </TextCell>
    <InputCell style="Input" closed="false" >
     <Input>model GameOfLife
  parameter Integer n = 10;
  parameter Integer initialAlive[:,2] = {{2,2},{2,1},{1,2},{3,3},{3,2}};
  discrete Integer lifeHistory[n,n](start=zeros(n,n));
  Boolean init = initial();
equation
 when {init, sample(0.1,0.1)} then
   if edge(init) then
      lifeHistory = firstGeneration(pre(lifeHistory), initialAlive);
   else
     lifeHistory = nextGeneration(pre(lifeHistory));
   end if;
 end when;
end GameOfLife;</Input>
     <Output>Ok</Output>
    </InputCell>
    <TextCell style="Text" >
     <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times New Roman; font-size:12pt; color:#000000;">&lt;/p>&lt;/body>&lt;/html></Text>
    </TextCell>
    <InputCell style="Input" closed="false" >
     <Input>function firstGeneration
  input Integer M[:,:];
  input Integer I[:,2];
  output Integer G[size(M,1), size(M,1)] := M;
algorithm
 for i in 1:size(I,1) loop
      G[I[i,1], I[i,2]] := 1;
 end for;
end firstGeneration;</Input>
     <Output>Ok</Output>
    </InputCell>
    <TextCell style="Text" >
     <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times New Roman; font-size:12pt; color:#000000;">//??Error below&lt;/p>&lt;/body>&lt;/html></Text>
    </TextCell>
    <InputCell style="Input" closed="false" >
     <Input>function nextGeneration
  input Integer M[:,:];
  output Integer G[size(M,1), size(M,1)];
  protected
  Integer iW, iE, jN, jS, borderSum;
  parameter Integer n = size(M,1);
algorithm
  for i in 1:n loop
    for j in 1:n loop
      iW := mod(i-2+n, n) + 1;
      iE := mod(i+n, n) + 1;
      jN := mod(j+n, n) + 1;
      jS := mod(j-2+n, n) + 1;
      borderSum := M[iW,j] + M[iE,j] + M[iW,jS] + M[i,jS] + M[iE,jS] + M[iW,jN] + M[i,jN] + M[iE,jN];
      if borderSum == 3 then
        G[i,j] := 1;
      elseif borderSum == 2 then
        G[i,j] := M[i,j];
      else G[i,j] := 0;
      end if;
    end for;
  end for;
end nextGeneration;</Input>
     <Output>Error occured building AST
Syntax Error
OMC-ERROR:
"Class mod (its type)  not found in scope nextGeneration.$for loop scope$.$for loop scope$.
No matching function found for mod, candidates are
Class mod not found in scope nextGeneration.$for loop scope$.$for loop scope$.
No matching function found for mod, candidates are
Class mod not found in scope nextGeneration.$for loop scope$.$for loop scope$.
"</Output>
    </InputCell>
    <GroupCell closed="false" >
     <TextCell style="Subsection" >
      <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times; font-size:14pt; font-weight:600; color:#000000;">Animation of GameOfLife (to be done)&lt;/p>&lt;/body>&lt;/html></Text>
     </TextCell>
    </GroupCell>
    <GroupCell closed="false" >
     <TextCell style="Subsection" >
      <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times; font-size:14pt; font-weight:600; color:#000000;">Simulation of GameOfLife&lt;/p>&lt;/body>&lt;/html></Text>
     </TextCell>
     <InputCell style="Input" closed="true" >
      <Input>simulate( GameOfLife );</Input>
      <Output></Output>
     </InputCell>
     <TextCell style="Text" >
      <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times New Roman; font-size:12pt; color:#000000;">&lt;/p>&lt;/body>&lt;/html></Text>
     </TextCell>
     <InputCell style="Input" closed="true" >
      <Input>PlotGameOfLife[lifeHistory]</Input>
      <Output></Output>
     </InputCell>
    </GroupCell>
    <GroupCell closed="false" >
     <TextCell style="Subsection" >
      <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times; font-size:14pt; font-weight:600; color:#000000;">Test of GameOfLife&lt;/p>&lt;/body>&lt;/html></Text>
     </TextCell>
     <InputCell style="Input" closed="true" >
      <Input>model test1
  GameOfLife g(initialAlive = {{1,1},{2,2},{3,3},{4,4},{5,5},{6,6},{7,7},{8,8},{9,9},{10,10},
  {1,10},{2,9},{3,8},{4,7},{5,6},{6,5},{7,4},{8,3},{9,2},{10,1}});
end test1;</Input>
      <Output></Output>
     </InputCell>
    </GroupCell>
    <GroupCell closed="false" >
     <TextCell style="Subsection" >
      <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Times; font-size:14pt; font-weight:600; color:#000000;">Simulation of test1&lt;/p>&lt;/body>&lt;/html></Text>
     </TextCell>
     <InputCell style="Input" closed="true" >
      <Input>simulate( test1 );  //??Not yet implemented</Input>
      <Output></Output>
     </InputCell>
     <TextCell style="Output" >
      <Text>&lt;html>&lt;head>&lt;meta name="qrichtext" content="1" />&lt;/head>&lt;body style=" white-space: pre-wrap; font-family:MS Shell Dlg; font-size:8.25pt; font-weight:400; font-style:normal; text-decoration:none;">&lt;p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; font-family:Courier New; font-size:11pt; color:#000000;">&lt;/p>&lt;/body>&lt;/html></Text>
     </TextCell>
     <InputCell style="Input" closed="true" >
      <Input>PlotGameOfLife[g.lifeHistory
]</Input>
      <Output></Output>
     </InputCell>
    </GroupCell>
   </GroupCell>
  </GroupCell>
 </GroupCell>
</Notebook>
